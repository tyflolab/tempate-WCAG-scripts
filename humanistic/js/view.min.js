var view=function(){const e=$("#pageInput"),t=$("#nextPageBtn"),n=$("#prevPageBtn"),a=$("#nextChaptBtn"),l=$("#prevChaptBtn");let o=0;function c(e,t){model.currentChapterId===e.id?t.addClass("disabled"):t.removeClass("disabled")}function s(e,t){let n=(t.id||"chap")+"-"+(t.children.length+1);e.id=n,e.setAttribute("tabindex","-1");const a=new DocumentNode(n,+e.nodeName.substring(1),e.innerText,t,e);return t.children.push(a),model.documentStructure.push(a),a}function i(){let e=window.location.hash;if(e.includes("chap"))$('a[href*="chap"').removeClass("active"),$(`a[href="${e}"]`).each(function(){$(this).addClass("active")}),$(`a[href="${e}"]`).each(function(){$(this)[0].scrollIntoView()});else if(""!=e&&!e.includes("chap")){$('a[href*="chap"').removeClass("active");let e=$('a[href*="chap"'),t=[];for(let n=0;n<e.length;n++)if(e[n].innerText==model.pageInfo[model.currentPage-1]){t=e[n].getAttribute("href");break}$(`a[href="${t}"]`).addClass("active"),$(`a[href="${t}"]`).each(function(){$(this)[0].scrollIntoView()})}}return{createPages:function(){$(".nextPage").not(":last").each(function(){model.totalPageNumbers++;const e=$(`<br><span id="${util.createPageId(model.totalPageNumbers)}" class="page-number" tabindex="-1">Strona: ${model.totalPageNumbers}</span>`);e.insertAfter(this),model.documentPageElements.push(e.get(0))}),$(".nextPage").remove()},detectStructure:function(){let e=model.documentRoot;$("h1").addClass("chap-0"),$(":header:not(h1)").each(function(){let t=this.nodeName.substring(1);for(;t<=e.level&&e.parent;)e=e.parent;t-e.level==1?e=s(this,e):t-e.level==0?e=s(this,e.parent):console.warn("Not consistent document structure")})},createTableOfContent:function(){const e=$('<ul class="nav nav-pills flex-column"></ul>');!function e(t,n){for(const a of t){const t=$('<li class="nav-item"><a class="nav-link" href="#'+a.id+'">'+a.name+"</a></li>");if(n.append(t),a.children&&a.children.length>0){const t=$("<li></li>");n.append(t);const l=$('<ul class="nav nav-pills flex-column ml-3"></ul>');t.append(l),e(a.children,l)}}}(model.documentRoot.children,e),$("#tableOfContent").append(e)},createMobileTableOfContent:function(){const e=$('<ul class="nav nav-pills flex-column"></ul>');!function e(t,n){for(const a of t){const t=$('<li class="nav-item"><a class="nav-link" href="#'+a.id+'">'+a.name+"</a></li>");if(n.append(t),a.children&&a.children.length>0){const t=$("<li></li>");n.append(t);const l=$('<ul class="nav nav-pills flex-column ml-3"></ul>');t.append(l),e(a.children,l)}}}(model.documentRoot.children,e),$("#mobileNavTableOfContent").append(e)},focusOnDocumentChapter:function(){""!=model.currentChapterId&&$(`#${model.currentChapterId}`).focus()},updateChapterButtonState:function(){const e=model.documentStructure[1],t=model.documentStructure[model.documentStructure.length-1];""!==model.currentChapterId?c(e,l):l.addClass("disabled"),c(t,a)},spyOnCurrentChapter:i,createTooltips:function(){$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()})},createCopyButtons:function(){$("pre").each(function(e,t){const n=`snippet-${o}`;t.setAttribute("id",n),o++,$(`\n            <button type="button" aria-label="Kopiuj kod źródłowy do schowka" class="copy-btn btn btn-dark btn-sm" data-clipboard-action="copy" data-clipboard-target="#${n}">\n                Kopiuj kod źródłowy do schowka\n            </button>`).insertAfter($(t).parent())})},checkPageButtonState:function(){$(document).ready(function(){1==model.currentPage&&model.currentPage!=model.totalPageNumbers?(n.addClass("disabled"),t.removeClass("disabled")):model.currentPage==model.totalPageNumbers&&1!=model.currentPage?(n.removeClass("disabled"),t.addClass("disabled")):model.currentPage==model.totalPageNumbers&&1==model.currentPage?(n.addClass("disabled"),t.addClass("disabled")):(n.removeClass("disabled"),t.removeClass("disabled"))})},renderTree:function(){const e=$(".tfl-deque-tree-no-select");for(let t=0;t<e.length;t++)deque.createTree({selectStyle:""},e[t])},toggleTableOfContentView:function(){$("#revealSideNavbar").click(function(){$("#content").toggleClass("col-md-12 col-md-9"),$("#sideNavbar").toggle("slide"),i(),$(this).attr("aria-expanded","false"==$(this).attr("aria-expanded"))})},toggleMobileTableOfContentView:function(){$(".tfl-mobile-nav").click(function(){$(this).toggleClass("active"),$("#mobileNavTableOfContent").toggleClass("open"),$("#content").toggleClass("open"),i(),$("#tflMobileNavBtn").attr("aria-expanded","false"==$("#tflMobileNavBtn").attr("aria-expanded")),$("#mobileNavTableOfContent a").click(function(){$("#mobileNavTableOfContent").removeClass("open"),$(".tfl-mobile-nav").removeClass("active"),$("#content").removeClass("open")})})},clearInputOnHoverClick:function(){e.on("click focusin",function(){this.value=""})},setPageInput:function(){e.val(model.currentPage)}}}();