var ctrl=function(){var e={isNotValidPageNumber:function(e){return!Number.isInteger(+e)||+e>model.totalPageNumbers||+e<1}};function t(e){const t=model.getChapterIndexById(model.currentChapterId);if(t<0)return void console.error("Current chapter cannot be found in document structure");const a=model.documentStructure[t+e];if(!a||"root"===a.name)return void alert("Nie ma więcej rozdziałów");window.location.hash=a.id;const r=document.getElementById(a.id);r.scrollIntoView(),r.focus(),$("#content").removeClass("col-md-9").addClass("col-md-12"),$("#sideNavbar").hide("slow"),$("#revealSideNavbar").attr("aria-expanded",!1),model.currentChapterId=a.id,model.currentPage=$(`#${model.currentChapterId}`).prevAll(".page-number").first()[0].id.replace("page-",""),view.setPageInput(),view.updateChapterButtonState(),view.checkPageButtonState()}function a(e){$(document).ready(function(){if(t=e,!Number.isInteger(+t)||+t>model.totalPageNumbers||+t<1)return void alert("Nie ma więcej stron");var t;const a=document.getElementById(util.createPageId(e));$("#content").removeClass("col-md-9").addClass("col-md-12"),$("#sideNavbar").hide("slow"),$("#revealSideNavbar").attr("aria-expanded",!1),model.currentPage=e;try{model.currentChapterId=void 0===$(`span#${util.createPageId(model.currentPage)}`).prevAll(":header").first()[0].id?"":$(`span#${util.createPageId(model.currentPage)}`).prevAll(":header").first()[0].id}catch(e){e instanceof TypeError&&(model.currentChapterId="")}window.location.hash=model.currentChapterId,view.setPageInput(),view.updateChapterButtonState(),view.checkPageButtonState(),a.scrollIntoView(),a.focus()})}return{navigateToPage:function(){event.preventDefault();const t={};$("#goToPageForm").serializeArray().forEach(e=>{t[e.name]=e.value}),e.isNotValidPageNumber(t.pageInput)?alert("Brak podanego numeru strony w publikacji"):a(t.pageInput)},navigateToNextPage:function(){a(parseInt(model.currentPage)+1)},navigateToPrevPage:function(){a(parseInt(model.currentPage)-1)},navigateToPrevChapter:function(){t(-1)},navigateToNextChapter:function(){t(1)}}}(),util={createPageId:function(e){return`page-${e}`}},main=void $(document).ready(function(){model.currentChapterId=""==window.location.hash?"":window.location.hash.replace("#",""),view.createPages(),view.detectStructure(),view.createTableOfContent(),view.createMobileTableOfContent(),view.focusOnDocumentChapter(),view.updateChapterButtonState(),model.currentPage=""==model.currentChapterId?model.currentPage:$(`#${model.currentChapterId}`).prevAll(".page-number").first()[0].id.replace("page-",""),view.checkPageButtonState(),view.setPageInput(),view.clearInputOnHoverClick(),view.toggleTableOfContentView(),view.toggleMobileTableOfContentView(),view.createTooltips(),view.createCopyButtons(),view.renderTree(),new ClipboardJS(".copy-btn"),$(".nav-link").click(function(){$(document).ready(function(){$("#content").removeClass("col-md-9").addClass("col-md-12"),$("#sideNavbar").hide("slow"),$("#revealSideNavbar").attr("aria-expanded",!1),model.currentChapterId=""==window.location.hash?"":window.location.hash.replace("#",""),model.currentPage=""==model.currentChapterId?model.currentPage:$(`#${model.currentChapterId}`).prevAll(".page-number").first()[0].id.replace("page-",""),view.updateChapterButtonState(),view.checkPageButtonState(),view.setPageInput()})})});